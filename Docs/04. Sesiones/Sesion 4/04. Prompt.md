SISTEMA DE ENTRENAMIENTO - "Evoluciona Entrenando"
La idea general
El estudiante sube una foto/captura de su trabajo (cÃ³digo, diseÃ±o, proyecto o notas). La IA de OpenAI la evalÃºa con un puntaje de 0 a 100. SegÃºn el puntaje, gana puntos y monedas $FRUTA. Cuando acumula suficientes puntos, su Regenmon evoluciona como un PokÃ©mon (BebÃ© â†’ Joven â†’ Adulto).

CATEGORÃAS DE ENTRENAMIENTO
4 categorÃ­as para elegir antes de subir la captura:

ğŸ’» CÃ³digo - "Tu mejor cÃ³digo" (evalÃºa organizaciÃ³n, buenas prÃ¡cticas, complejidad)
ğŸ¨ DiseÃ±o - "UI/UX o grÃ¡fico" (evalÃºa estÃ©tica, colores, tipografÃ­a, creatividad)
ğŸš€ Proyecto - "Proyecto completo" (evalÃºa funcionalidad, calidad, complejidad)
ğŸ“š Aprendizaje - "Notas o ejercicios" (evalÃºa esfuerzo, comprensiÃ³n, aplicaciÃ³n prÃ¡ctica)
Mostrar las 4 categorÃ­as como botones en una cuadrÃ­cula de 2x2. La categorÃ­a seleccionada se resalta con color naranja.

SUBIR IMAGEN
BotÃ³n "ğŸ“¸ Subir Captura" que abre el selector de archivos
Solo acepta imÃ¡genes (PNG, JPG, etc.)
TamaÃ±o mÃ¡ximo: 5MB (si se pasa, mostrar alerta de error)
Al seleccionar una imagen, mostrarla como preview en un contenedor de 300px de alto con borde naranja
Debajo del preview, dos botones: "âœ… Evaluar" y "âŒ Cancelar"

EVALUACIÃ“N CON IA
Flujo cuando presiona "Evaluar":
El botÃ³n se deshabilita y muestra "ğŸ”„ Evaluando..."
La imagen se convierte a base64
Se envÃ­a a un endpoint API (/api/demo/evaluate) que usa OpenAI GPT-4o con visiÃ³n
La IA evalÃºa la imagen segÃºn la categorÃ­a elegida
Devuelve un puntaje de 0 a 100 y un feedback de 1-2 oraciones en espaÃ±ol

Prompt para la IA
Decirle a la IA que es un profesor amigable en un juego educativo. Que SIEMPRE evalÃºe la imagen sin importar quÃ© contenga. El formato de respuesta debe ser:

Score: [0-100]/100. [1-2 oraciones de feedback constructivo en espaÃ±ol]

Cada categorÃ­a tiene sus propios criterios de evaluaciÃ³n (organizaciÃ³n para cÃ³digo, estÃ©tica para diseÃ±o, etc.)

Si la IA falla o no responde
No romper el sistema. Asignar un puntaje por defecto entre 40-60 y mostrar: "âš ï¸ Sistema de evaluaciÃ³n temporalmente no disponible. Score por defecto asignado."

PANTALLA DE RESULTADOS
DespuÃ©s de evaluar, mostrar una tarjeta de resultados con estas secciones:

1. Puntaje (con emoji segÃºn resultado)
ğŸ† si score >= 80 (fondo naranja suave)
â­ si score >= 60 (fondo amarillo suave)
ğŸ‘ si score >= 40 (fondo amarillo suave)
ğŸ’ª si score < 40 (fondo rojo suave)
Mostrar el nÃºmero grande: "85/100"

2. Feedback de la IA
El texto que devolviÃ³ la IA en un contenedor oscuro

3. Recompensas ganadas
Puntos: iguales al score (85 score = 85 puntos)
Tokens: score Ã— 0.5 (85 score = 42 tokens $FRUTA)
Mostrar como: "â­ +85 Puntos" y "ğŸ +42 Tokens"

4. Efectos en los stats del Regenmon
El entrenamiento afecta los stats segÃºn quÃ© tan bien le fue:

Score >= 80 (Excelente):
  Felicidad: +15 (orgulloso)
  EnergÃ­a: -20 (cansado de entrenar)
  Hambre: +15 (le da hambre entrenar)

Score 60-79 (Bueno):
  Felicidad: +8
  EnergÃ­a: -15
  Hambre: +12

Score 40-59 (Regular):
  Felicidad: +3
  EnergÃ­a: -12
  Hambre: +10

Score < 40 (Bajo):
  Felicidad: -10 (frustrado)
  EnergÃ­a: -15
  Hambre: +10

Mostrar cada efecto con color verde si es positivo, rojo si es negativo.

5. Progreso de evoluciÃ³n
Mostrar: "Total: 245 pts | Stage 1/3 | PrÃ³xima evoluciÃ³n: 500 pts"

6. BotÃ³n para entrenar de nuevo
"ğŸ“ Entrenar Nuevamente" que resetea el formulario para subir otra imagen

SISTEMA DE EVOLUCIÃ“N
El Regenmon evoluciona como un PokÃ©mon al acumular puntos:

Stage 1: ğŸ¥š BebÃ© (estado inicial)
    â†“ al llegar a 500 puntos
Stage 2: ğŸ£ Joven (primera evoluciÃ³n)
    â†“ al llegar a 1500 puntos
Stage 3: ğŸ‰ Adulto (evoluciÃ³n final)

Cuando evoluciona:
Mostrar alerta: "ğŸ‰ Â¡{nombre} evolucionÃ³ a etapa {stage}! +100 tokens bonus"
Regalar 100 tokens $FRUTA de bonus
Actualizar la apariencia/etapa del Regenmon

HISTORIAL DE ENTRENAMIENTOS
Guardar cada entrenamiento con:
Score obtenido
CategorÃ­a usada
Fecha/hora
Almacenar en localStorage como parte de los datos del Regenmon. MÃ¡ximo las Ãºltimas 20 entradas.

INTEGRACIÃ“N
El entrenamiento se accede desde un tab/pestaÃ±a "ğŸ“ Entrenar" en la pantalla principal del Regenmon
Los puntos totales y el stage se muestran en el display principal del Regenmon
Las monedas ganadas se suman al balance de $FRUTA existente
Los efectos en stats se aplican inmediatamente

API DE OPENAI
Necesito un endpoint /api/demo/evaluate que:
Reciba: imageBase64 (string) y category (string)
Use el modelo gpt-4o de OpenAI con capacidad de visiÃ³n
EnvÃ­e un system message explicando que es un juego educativo
EnvÃ­e la imagen como contenido tipo image_url con la base64
Parsee el score del texto de respuesta
Calcule: puntos = score, tokens = score Ã— 0.5
Si falla: devuelva score por defecto (40-60) sin romper
Variable de entorno necesaria: OPENAI_API_KEY

DATOS QUE SE GUARDAN
totalPoints: nÃºmero (puntos acumulados de todos los entrenamientos)
stage: 1, 2 o 3 (etapa de evoluciÃ³n)
balance: nÃºmero (monedas $FRUTA, se suman las ganadas)
trainingHistory: lista de { score, category, timestamp }
stats: se actualizan con los efectos del entrenamiento
Todo en localStorage, persiste al recargar.
